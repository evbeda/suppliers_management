{% load static %}
{% load i18n %}
<nav class="navbar navbar-expand-lg navbar-dark justify-content-between blue-eb">
    <a class="navbar navbar-brand" href="{% url 'supplier-home' %}">
        <img src="{% static 'images/Eventbrite_logo_2018.png' %}" width="100" heigth=50 alt="">
        {% trans "Supplier" %}
    </a>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class='navbar-nav'>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
                    {% trans "Taxpayers" %}
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="{% url 'supplier-home' %}"><i
                            class="fas fa-building mr-2"></i>{% trans "My Taxpayers" %}</a>
                    <a class="dropdown-item" href="{% url 'taxpayer-create' %}"> <i
                            class="fa fa-plus mr-2"></i>{% trans "New Taxpayer" %}</a>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
                {% trans "Management" %}
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="{% url 'invoices-list' %}"><i
                    class="fa fa-file-invoice mr-2"></i>{% trans "Invoices" %}</a>
                </div>
            </li>
            {% if taxpayer %}
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
                    {{ taxpayer.business_name }}
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="{% url 'supplier-invoice-list' taxpayer_id=taxpayer.id %}"><i
                            class="fa fa-file-invoice mr-2"></i>{% trans "My Invoices" %}</a>
                    {% if taxpayer.taxpayer_state == "APPROVED" %}
                    <a class="dropdown-item" href="{% url 'invoice-create' taxpayer_id=taxpayer.id %}"> 
                        <i class="fa fa-plus mr-2"></i>{% trans "New Invoice" %}
                    </a>
                    {% endif %}
                </div>
            </li>
            {% endif %}
        </ul>
        
        <div class="collapse navbar-collapse justify-content-end">
            <ul class="navbar-nav">
                <li class="nav-item dropdown navbar-right btn-">
                    <a class="nav-link dropdown-toggle " id="navbarDropdownMenuLink-4" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        <i class="fas fa-user mr-2"></i> {{ user.first_name }}
                    </a>
                    <div class="dropdown-menu dropdown-menu-right dropdown-info"
                        aria-labelledby="navbarDropdownMenuLink-4">
                        <a class="dropdown-item" href="{% url 'logout' %}">
                            <i class="fas fa-sign-out-alt mr-2"></i>
                            {% trans "Log out" %}
                        </a>
                    </div>
                </li>
            </ul>
            <div class="justify-content-end">
                    {% include 'language_selector.html' %}
            </div>
        </div>
    </div>

</nav>